(function(t){function o(o){for(var n,r,s=o[0],l=o[1],d=o[2],u=0,f=[];u<s.length;u++)r=s[u],i[r]&&f.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);a&&a(o);while(f.length)f.shift()();return c.push.apply(c,d||[]),e()}function e(){for(var t,o=0;o<c.length;o++){for(var e=c[o],n=!0,s=1;s<e.length;s++){var l=e[s];0!==i[l]&&(n=!1)}n&&(c.splice(o--,1),t=r(r.s=e[0]))}return t}var n={},i={app:0},c=[];function r(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)r.d(e,n,function(o){return t[o]}.bind(null,n));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var d=0;d<s.length;d++)o(s[d]);var a=l;c.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},1708:function(t,o,e){"use strict";var n=e("6f69"),i=e.n(n);i.a},"56d7":function(t,o,e){"use strict";e.r(o);var n={};e.r(n),e.d(n,"getUrl",function(){return d}),e.d(n,"getTodos",function(){return a}),e.d(n,"getStaticTodos",function(){return u});var i={};e.r(i),e.d(i,"UPDATE_URL",function(){return f}),e.d(i,"UPDATE_TODOS",function(){return h});var c={};e.r(c),e.d(c,"updateUrl",function(){return g}),e.d(c,"updateTodo",function(){return T}),e.d(c,"updateTodoList",function(){return v}),e.d(c,"pushTodoList",function(){return b}),e.d(c,"filterTodoList",function(){return O});e("cadf"),e("551c"),e("f751"),e("097d");var r=e("2b0e"),s=e("2f62"),l={url:"",todos:[{id:1,title:1,completed:!1,check:!1},{id:2,title:2,completed:!0,check:!1},{id:3,title:3,completed:!1,check:!1},{id:4,title:"xxx",completed:!0,check:!1},{id:5,title:"1:xxx",completed:!0,check:!1},{id:6,title:"2:xxx",completed:!0,check:!1},{id:7,title:"3:xxx",completed:!1,check:!1}],todosStatic:[{id:1,title:1,completed:!1,check:!1},{id:2,title:2,completed:!0,check:!1},{id:3,title:3,completed:!1,check:!1},{id:4,title:"xxx",completed:!0,check:!1},{id:5,title:"1:xxx",completed:!0,check:!1},{id:6,title:"2:xxx",completed:!0,check:!1},{id:7,title:"3:xxx",completed:!1,check:!1}]},d=function(t){return t.url},a=function(t){return t.todos},u=function(t){return t.todosStatic},f=function(t){return t.url},h=function(t){return t.todos},p=e("f499"),m=e.n(p);function g(t,o){var e=t.commit,n=t.state;n.url=o,e("UPDATE_URL")}function T(t,o){var e=t.commit;o.completed=!o.completed,e("UPDATE_TODOS")}function v(t,o){var e=t.commit,n=t.state;n.todos=o,localStorage.setItem("todos",m()(n.todos)),e("UPDATE_TODOS")}function b(t,o){var e=t.commit,n=t.state;n.todos.push(o),localStorage.setItem("todos",m()(n.todos)),e("UPDATE_TODOS")}function O(t){var o=t.commit,e=t.state;e.todos=e.todos.filter(function(t){return!t.completed}),localStorage.setItem("todos",m()(e.todos)),o("UPDATE_TODOS")}var x={namespaced:!0,state:l,getters:n,mutations:i,actions:c};r["a"].use(s["a"]);var k=new s["a"].Store({modules:{urlForm:x}}),_=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("Todolist")],1)},S=[],U=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"main-container"},[e("ApiForm"),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.firstTodo,expression:"firstTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"Что должно быть сделано?"},domProps:{value:t.firstTodo},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.newTodo(o)},input:function(o){o.target.composing||(t.firstTodo=o.target.value)}}}),e("button",{staticClass:"btn",on:{click:t.addNewTodo}},[t._v("Добавить В TODO")]),t._l(t.todosFiltered,function(t,o){return e("Todo",{key:t.id,attrs:{todo:t,index:o}})}),e("div",{staticClass:"extra-container"},[e("div",{staticClass:"extra-container_numInList"},[t._v(t._s(t.remaining)+" TODO активно")]),e("div",[e("button",{class:{active:"all"==t.filter},on:{click:function(o){t.filter="all"}}},[t._v("Все")]),e("button",{class:{active:"active"==t.filter},on:{click:function(o){t.filter="active"}}},[t._v("Не Выполнено")]),e("button",{class:{active:"completed"==t.filter},on:{click:function(o){t.filter="completed"}}},[t._v("Выполнено")]),e("button",{on:{click:t.filterTodoList}},[t._v("Очистить завершенные")])])])],2)],1)},w=[],j=e("cebc"),y=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"inputForUrl",attrs:{type:"text",placeholder:"Ссылка на Ваш Api в формате http://...",url:t.url},domProps:{value:t.url},on:{blur:function(o){return t.updateTodos(t.url)},input:function(o){o.target.composing||(t.url=o.target.value)}}})])},I=[],D=e("bc3a"),F=e.n(D),L={getTodos:function(t){return F.a.get("".concat(l.url,"/todos"),{type:t})},postTodo:function(t){return F.a.post("".concat(l.url,"/todos"),{data:t})},editTodo:function(t){return F.a.patch("".concat(l.url,"/todos/").concat(t))},deleteTodo:function(t){return F.a.delete("".concat(l.url,"/todos/").concat(t))}},P=L,C=e("5118"),E={data:function(){return{url:"",filter:"all",a:"",setTime:""}},created:function(){this.a=JSON.parse(localStorage.getItem("todos"))},computed:Object(j["a"])({},Object(s["c"])({getUrl:"urlForm/getUrl",getTodos:"urlForm/getTodos",getStaticTodos:"urlForm/getStaticTodos"})),methods:Object(j["a"])({},Object(s["b"])({updateUrl:"urlForm/updateUrl",updateTodoList:"urlForm/updateTodoList"}),{updateTodos:function(t){var o=this;this.updateUrl(t),this.url.length>4&&(this.updateTodoList([]),this.setTime=Object(C["setInterval"])(function(){P.getTodos(o.filter).then(function(t){o.updateTodoList(t.data),console.log(t)}).catch(function(t){console.log(t),console.warn("Ошибка запроса при отправки всех TODO, скорее всего сервер не ответил")})},5e3),console.warn("Был установлен ваш Url")),this.url.length<=3&&(this.updateTodoList(this.getStaticTodos),this.id=8,Object(C["clearInterval"])(this.setTime),console.warn("Сcылка должна быть от 4х символов"))}})},A=E,N=(e("5bc9"),e("2877")),$=Object(N["a"])(A,y,I,!1,null,null,null),J=$.exports,M=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo-item"},[e("div",{staticClass:"todo-item-left"},[e("input",{staticClass:"todoInput",attrs:{type:"checkbox"},domProps:{checked:t.todo.completed},on:{click:function(o){return t.completeTodo(t.todo)}}}),t.todo.editing?t._e():e("div",{staticClass:"todo-item-label",class:{completed:t.todo.completed}},[t._v(t._s(t.todo.title))])]),e("div",{staticClass:"remove-item"},[e("label",{staticClass:"auto_created"},[t._v("Авто-создание")]),e("input",{attrs:{type:"checkbox",disabled:t.todo.completed},domProps:{checked:t.todo.check},on:{click:function(o){return t.checkIt(t.todo)}}}),e("i",{staticClass:"fas fa-times remove",on:{click:function(o){return t.removeItem(t.index)}}})])])},R=[],q={data:function(){return{}},props:["todo","index","url"],created:function(){localStorage.setItem("todos",m()(this.getTodos))},computed:Object(j["a"])({},Object(s["c"])({getTodos:"urlForm/getTodos",getUrl:"urlForm/getUrl"})),methods:Object(j["a"])({},Object(s["b"])({updateTodo:"urlForm/updateTodo"}),{completeTodo:function(t){this.getUrl.length>3&&P.editTodo(t.id).then(function(){console.info("Удачно")}).catch(function(){console.warn("Ошибка запроса при зачеркивание TODO, скорее всего сервер не ответил!")}),this.updateTodo(t),localStorage.setItem("todos",m()(this.getTodos))},checkIt:function(t){var o=this;t.check=!t.check,this.getUrl.length>3&&P.editTodo(this.todo.id).then(function(){console.info("Удачно")}).catch(function(){console.log(o.getTodos),console.warn("Ошибка запроса при выборе 'Авто-создание', скорее всего сервер не ответил")}),localStorage.setItem("todos",m()(this.getTodos))},removeItem:function(t){this.getUrl.length>3&&P.deleteTodo(t).then(function(){console.info("Удачно")}).catch(function(t){console.warn(t),console.warn("Ошибка запроса при удалении TODO, скорее всего сервер не ответил!")}),this.getTodos.splice(t,1),localStorage.setItem("todos",m()(this.getTodos))}})},z=q,B=(e("1708"),Object(N["a"])(z,M,R,!1,null,null,null)),G=B.exports,H={data:function(){return{id:8,firstTodo:"",beforeEditCache:"",filter:"all",error:!1,a:""}},mounted:function(){var t=this;this.id=this.getTodos.length+1,this.getUrl.length>3&&P.getTodos("all").then(function(o){t.todos=o.data,console.log(o)}).catch(function(t){console.log(t),console.warn("Ошибка запроса при отправке всех TODO, скорее всего сервер не ответил!")})},created:function(){this.a=JSON.parse(localStorage.getItem("todos")),"todos"in localStorage&&this.updateTodoList(this.a)},computed:Object(j["a"])({},Object(s["c"])({getTodos:"urlForm/getTodos",getUrl:"urlForm/getUrl"}),{remaining:function(){return this.getTodos.filter(function(t){return!t.completed}).length},updateId:function(){this.id=this.getTodos.length+=1},todosFiltered:function(){var t=this;return"all"==this.filter?(this.getUrl.length>3&&P.getTodos("all").then(function(o){console.log(o),console.log(t.getTodos)}).catch(function(o){console.log(o),console.warn('Ошибка запроса, при выборе "Все", скорее всего сервер не ответил!'),console.log(t.getTodos)}),this.getTodos):"active"==this.filter?this.getTodos.filter(function(t){return!t.completed}):"completed"==this.filter?(this.getUrl.length>3&&P.getTodos("completed").then(function(t){console.log(t)}).catch(function(t){console.log(t),console.warn('Ошибка запроса, при выборе "Выполненые", скорее всего сервер не ответил!')}),console.log(this.getTodos),this.getTodos.filter(function(t){return t.completed})):void 0}}),methods:Object(j["a"])({},Object(s["b"])({filterTodoList:"urlForm/filterTodoList",updateTodoList:"urlForm/updateTodoList",pushTodoList:"urlForm/pushTodoList"}),{addNewTodo:function(){var t=this,o={id:this.id++,title:this.firstTodo,completed:!1,check:!1};0!=this.firstTodo.trim().length&&(this.getUrl.length>3&&P.postTodo(o).then(function(){console.log("ok"),localStorage.setItem("todos",m()(t.getTodos))}).catch(function(o){console.warn("Ошибка запроса при добавлении нового TODO, скорее всего сервер не ответил!"),localStorage.setItem("todos",m()(t.getTodos))}),this.pushTodoList(o),localStorage.setItem("todos",m()(this.getTodos)),this.firstTodo="")},newTodo:function(){var t=this,o={id:this.id++,title:this.firstTodo,completed:!1,check:!1};0!=this.firstTodo.trim().length&&(this.getUrl.length>3&&P.postTodo(o).then(function(){console.log("ok"),localStorage.setItem("todos",m()(t.getTodos))}).catch(function(o){console.warn("Ошибка запроса при добавлении нового TODO, скорее всего сервер не ответил!"),localStorage.setItem("todos",m()(t.getTodos))}),localStorage.setItem("todos",m()(this.getTodos)),this.getTodos.push(o),this.firstTodo="",this.idForTodo++)}}),components:{ApiForm:J,Todo:G}},K=H,Q=(e("d2bd"),Object(N["a"])(K,U,w,!1,null,null,null)),V=Q.exports,W={name:"app",components:{Todolist:V}},X=W,Y=Object(N["a"])(X,_,S,!1,null,null,null),Z=Y.exports;r["a"].config.productionTip=!1,r["a"].use(s["a"]),new r["a"]({store:k,render:function(t){return t(Z)}}).$mount("#app")},"5bc9":function(t,o,e){"use strict";var n=e("79dc"),i=e.n(n);i.a},"6f69":function(t,o,e){},"79dc":function(t,o,e){},d2bd:function(t,o,e){"use strict";var n=e("f765"),i=e.n(n);i.a},f765:function(t,o,e){}});
//# sourceMappingURL=app.20cdafc1.js.map